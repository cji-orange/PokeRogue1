<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PokéRouge Clone</title>
    <link rel="stylesheet" href="style.css">
    <!-- Pixel Font Link (Example) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">
    <!-- Supabase JS Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div id="game-container">

        <!-- Auth Screen (Initially Visible) -->
        <div id="auth-screen">
            <h1>PokéRouge Adventure</h1>
            <div id="auth-form">
                <h2>Login / Register</h2>
                <input type="email" id="auth-email" placeholder="Email" required>
                <input type="password" id="auth-password" placeholder="Password" required>
                <button id="login-button">Login</button>
                <button id="register-button">Register</button>
                <p id="auth-error" class="error-message" style="display: none;"></p>
            </div>
        </div>

        <!-- Start Screen (Shown after login, if no saved game state for user) -->
        <div id="start-screen" style="display: none;">
            <h2>Welcome! Select your starter:</h2>
             <div id="user-display-start" class="user-info">Logged in as: <span id="user-email-start"></span></div>
             <div id="starter-options">
                <!-- Starter Pokémon will be loaded here by JS -->
             </div>
            <!-- Load game button is removed for now - loading needs Supabase DB -->
        </div>

        <!-- Main Game Area (Shown after starter selected or game loaded) -->
        <div id="main-game" style="display: none;">
            <div id="map-area">
                <div id="map-header">
                     <h2>Progression Map</h2>
                     <div id="user-display-map" class="user-info">Logged in as: <span id="user-email-map"></span> <button id="logout-button">Logout</button></div>
                </div>
                <!-- Map nodes will be generated here by JS -->
                <div id="map-nodes">
                    <!-- Placeholder for map buttons -->
                </div>
                 <button id="save-game-button-map" disabled>Save Game (DB TODO)</button>
            </div>

            <div id="battle-area" style="display: none;">
                <!-- Battle content remains the same -->
                <h2>Battle!</h2>
                <div id="opponent-display">
                    <span id="opponent-name"></span>
                    <div class="hp-bar-container">
                        <div id="opponent-hp-bar" class="hp-bar"></div>
                    </div>
                    <span id="opponent-hp-value"></span>
                    <img id="opponent-sprite" src="" alt="Opponent Pokémon" onerror="this.src='assets/sprites/placeholder.png';">
                </div>
                <div id="player-display">
                     <img id="player-sprite" src="" alt="Player Pokémon" onerror="this.src='assets/sprites/placeholder.png';">
                     <span id="player-name"></span>
                     <div class="hp-bar-container">
                        <div id="player-hp-bar" class="hp-bar"></div>
                    </div>
                     <span id="player-hp-value"></span>
                </div>
                <div id="action-buttons">
                    <!-- Action buttons generated by JS -->
                </div>
                 <div id="battle-log">
                    <!-- Battle messages will appear here -->
                 </div>
            </div>

            <div id="party-display">
                <h2>Your Party</h2>
                <!-- Party Pokémon icons/details will be shown here by JS -->
            </div>

            <div id="inventory-display" style="display: none;">
                 <h2>Items</h2>
                 <div id="item-list">
                     <!-- Item cards will be shown here -->
                 </div>
                 <button id="close-inventory-button">Close</button>
            </div>
        </div>

        <!-- Game Over Screen (Initially hidden) -->
        <div id="game-over-screen" style="display: none;">
            <h1>Game Over</h1>
             <div id="user-display-gameover" class="user-info">User: <span id="user-email-gameover"></span></div>
            <p id="final-score">Encounters Cleared: 0</p>
            <button id="restart-button">Play Again (New Run)</button>
            <button id="logout-button-gameover">Logout</button>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html> 